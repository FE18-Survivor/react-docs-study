# Week 09

## [Removing Effect Dependencies](https://react.dev/learn/removing-effect-dependencies)

- React linter는 Effect에서 사용한 모든 reactive value들을 dependencies list에 포함시켰는지 확인해서, **Effect가 component의 최신 props 및 state와 동기화**되도록 함
- 하지만, 불필요한 dependencies는 Effect를 너무 자주 실행시키거나 무한 루프에 빠지게 하므로 제거해야 함
- 어떤 변수를 dependencies list에서 제거하려면, **이 변수가 Effect에서 dependency로 필요하지 않다는 것을 증명(prove)**해야 함
  - 이 변수의 값이 reactive 하지 않고 re-renders 중에 변경되지 않는다는 것을 증명
  - Dependencies list에는 Effect에서 사용하는 모든 reactive values가 포함되어야 하므로,
  - 반대로 **Effect 내부에서 해당 dependency를 사용하는 logic을 제거**하면 dependencies list에서도 제거할 수 있음
- 불필요한 dependency를 제거하는 방법
  1. 특정 interaction이 발생했을 때 실행되어야 하는 logic은 event handler로 이동
  2. 관련 없는 여러 개의 logic을 독립된 다른 Effect로 분리
     - 각 Effect는 independent synchronization process를 나타내야 함
  3. State variable을 직접 사용하는 대신 updater function 내부에서 접근
  4. Non-reactive logic을 Effect 밖으로 추출
     - React 19.2 에서 도입된 `useEffectEvent` hook 사용
     - 이 때, non-reactive logic이 reactive values를 사용하고 있었다면, 해당 변수를 dependencies list에서 제거 가능
  5. Object 및 functions를 component 외부 또는 Effect 내부로 이동
     - Object 및 functions는 component 내부에서 선언하면 매 렌더링마다 새로 생성되며 서로 다른 객체로 인식하기 때문
     - Static object 및 functions는 component 밖으로 이동
     - Dynamic object 및 functions는 Effect 내부로 이동
  6. Object 및 functions를 Effect 밖에서 읽고, 실제로 사용할 primitive value만 Effect에서 사용 (dependencies list에 포함)
     - **Object 또는 function이 dependencies list에 포함되지 않아야 함**
