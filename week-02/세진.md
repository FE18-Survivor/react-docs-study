# Week 02

(11.11 화)

## [Passing Props to a Component](https://react.dev/learn/passing-props-to-a-component)

> 리액트 컴포넌트는 `props`를 통해 서로 소통합니다. 부모 컴포넌트는 자식컴포넌트에게 `props`를 통해 정보를 전달합니다. HTML 속성처럼 보이지만 javascript의 모든 값을 전달할 수 있습니다.

### Familiar props

props는 JSX tag에 전달하는 정보입니다. `<img>` 태그 같이 속성 값이 미리 정해져있는 태그들이 있지만, props를 통해 재정의할 수 있습니다.

### Passing props to a component

부모 컴포넌트에 HTML태그의 속성처럼 값을 정의합니다. 해당 props를 자식 컴포넌트에서 활용할 수 있게 됩니다.

1. 부모 컴포넌트에서 props를 작성합니다.

```javascript
export default function Profile() {
  return <Avatar person={{ name: "Lin Lanying", imageId: "1bX5QH6" }} size={100} />;
}
```

2. 자식 컴포넌트에서 해당 props를 읽을 수 있게 작성합니다.

```javascript
function Avatar({ person, size }) {
  // person and size are available here
}
```

이를 통해 Avatar 컴포넌트를 다양한 사이즈와 값(코드에선 person, size)으로 렌더링 할 수 있습니다.

props를 통해 부모컴포넌트와 자식컴포넌트를 독립적으로 볼 수 있습니다. 부모컴포넌트에 있는 props의 속성을 변경하거나, 자식 컴포넌트의 속성을 바꿀 때 본인의 props만 확인하고 수정할 수 있기 때문입니다.

**`props`는 리액트 컴포넌트 함수의 유일한 인자입니다.**

+분해구조할당 방식으로 props를 전달할 수도 있습니다.

### Specifying a default value for a prop

prop에 기본 값을 주거나, 전달받은 값이 없을 경우 `=`을 통해 값을 할당 할 수 있습니다.

### Forwarding props with the JSX spread syntax

props를 그대로 자식 컴포넌트에 전달할 경우 코드가 너무 많이 반복될 수 있습니다. 이럴땐 전개 연산자(...)를 통해 간결히 작성할 수 있습니다.

```javascript
function Profile(props) {
  return (
    <div className="card">
      <Avatar {...props} />
    </div>
  );
}
```

### Passing JSX as children

컴포넌트는 중첩이 가능합니다. 중첩된 컴포넌트는 부모컴포넌트에 `{children}` 속성으로 존재하게 됩니다. 이때 `{children}`은 컴포넌트 일 수도 있고 다른 JSX 태그가 될 수도 있습니다.

### How props change over time

컴포넌트는 동적으로 변경될 수 있습니다. 처음 렌더링 될때의 props 값이 유지되지 않고, 값이 실시간으로 바뀌는 것처럼 보입니다.
<br />

그러나 props는 불변객체입니다. 따라서 값이 바뀌는것처럼 보이는거은 props의 **값**이 변경되는것이 아니고, 새로운 props가 전달되어 교체되는 것입니다. 이전 props는 폐기 되고 JS엔진은 이전 props의 메모리를 회수하는 작업을 진행합니다.

props를 변경하지 말고, ['set State'를 활용해 변경해야 합니다.](https://react.dev/learn/state-a-components-memory)

## [Conditional Rendering](https://react.dev/learn/conditional-rendering)

> 여러 조건에 따라 렌더링이 변경되어야 할때가 있습니다. 그럴때 `if`문, `&&`연산자, `?`연산자를 통해 조건에따라 렌더링 할 수 있습니다.

### Conditionally returning JSX

- if문 예시

```javascript
function Item({ name, isPacked }) {
  if (isPacked) {
    return <li className="item">{name} ✅</li>;
  }
  return <li className="item">{name}</li>;
}

export default function PackingList() {
  return (
    <section>
      <h1>Sally Ride's Packing List</h1>
      <ul>
        <Item isPacked={true} name="Space suit" />
        <Item isPacked={false} name="Photo of Tam" />
      </ul>
    </section>
  );
}
```

JSX 구문을 반환하는 if문을 활용해서 조건별로 렌더링 할 수 있습니다.

### Conditionally returning nothing with null

```javascript
...
function Item({ name, isPacked }) {
  if (isPacked) {
    return null;
  }
  return <li className="item">{name}</li>;
};
...
```

아무것도 렌더링 하고 싶지 않다면 if문에서 `null`을 반환하면 됩니다.

### Conditional (ternary) operator (? :)

위의 예제 코드는 많은 반복이 있습니다. 이를 삼항연산자를 통해 반복을 줄일 수 있습니다.

```javascript
return <li className="item">{isPacked ? name + " ✅" : name}</li>;
```

isPacked 인자가 true인지 false인지 확인하고 그 값에 따라 name만 렌더링 할지 name + ✅ 형태로 렌더링 할지 구분할 수 있습니다.

### Logical AND operator (&&)

위의 예제를 조금 더 간결하게 표현할 수 있습니다. 바로 논리연산자인 `&&`를 활용하는 방법입니다.

```javascript
return (
  <li className="item">
    {name} {isPacked && "✅"}
  </li>
);
```

우리는 결국 예제를 통해 isPacked가 true면 체크 이모지를 표시하면 된다는것을 알 수 있습니다. 따라서 간단하게 `&&`와 같이 표현할 수 있게 됩니다.

논리연산자의 좌변이 `true`라면 우변의 값을 return 합니다. 하지만 좌변이 `false`라면 우변도 `false`가 되어 리액트에선 빈 공간으로 인식합니다. `null`, `undeifined`로 인식하지 않습니다.

**예외사항**
<br />
논리연산자를 사용할때 좌변에 falsy, truthy 값을 넣어서 활용할 수 있습니다. 그러나 0을 넣게 되면 false로 변환되는것이 아니라 0 그대로 보여지게됩니다! 따라서 0을 활용하고 싶다면 아래와 같이 수정해서 사용해야 합니다.

`messageCount > 0 && <p>New messages</p>.`

### Conditionally assigning JSX to a variable

삼항연산자나 논리연산자를 사용하는것이 어색하다면 if문과 let 변수를 사용해서 구현할 수 있습니다.

```javascript
function Item({ name, isPacked }) {
  let itemContent = name;
  if (isPacked) {
    //let 변수를 통해 재할당
    itemContent = name + " ✅";
  }
  // 변수 itemContent 하나로 반환
  return <li className="item">{itemContent}</li>;
}

export default function PackingList() {
  return (
    <section>
      <h1>Sally Ride's Packing List</h1>
      <ul>
        <Item isPacked={true} name="Space suit" />
        <Item isPacked={false} name="Photo of Tam" />
      </ul>
    </section>
  );
}
```
