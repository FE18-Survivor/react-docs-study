# Week 02

(2025. 11. 11. 황)

## Describing the UI

> React는 UI를 렌더링하는 JavaScript 라이브러리 입니다. <br>
> UI(User Interface)는 Buttun, Text, Image와 같은 단위로 구성됩니다.<br>
> React를 사용하면 이러한 UI 단위를 재사용이 가능하고, 중첩 가능한 컴포넌트로 조합할 수 있습니다.<br>
> 웹사이트에서 휴대폰 앱에 이르기까지 화면의 모든것은 컴포넌트로 나눌 수 있습니다.<br>
> 이 장에서는 React 컴포넌트를 만들고, 사용자 정의하고, 조건부로 표시하는 방법을 배웁니다.<br>

## 중괄호를 사용한 JSX의 JavaScript [JavaScript in JSX with Curly Braces](https://ko.react.dev/learn/javascript-in-jsx-with-curly-braces)

> JSX를 사용하면 JavaScript 파일 내에 HTML과 유사한 마크업을 작성하여 렌더링 로직과 콘텐츠를 같은 위치에 유지할 수 있습니다.<br>
> 경우에 따라 해당 마크업 내에 JavaScript 로직을 추가하거나 동적 속성을 참조해야 할 수 있습니다.<br>
> 이 경우 JSX에 중괄호를 사용하여 JavaScript 창을 열 수 있습니다.<br>

### 따옴표로 문자열 전달하기

- 따옴표로 문자열 전달 JSX에 문자열 속성을 전달하려면 문자열을 작은따옴표나 큰따옴표로 묶습니다.

App.js

```javascript
export default function Avatar() {
  return (
    <img
      className="avatar"
      src="https://i.imgur.com/7vQD0fPs.jpg"
      alt="Gregorio Y. Zara"
    />
  );
}
```

- 여기서는 "https://i.imgur.com/7vQD0fPs.jpg"와 "Gregorio Y. Zara"가 문자열로 전달됩니다.
- 하지만 src 또는 alt 텍스트를 동적으로 지정하려면 어떻게 해야 할까요?
- JavaScript에서 "와 "를 {와 }로 바꿔 값을 사용할 수 있습니다.

App.js

```javascript
export default function Avatar() {
  const avatar = "https://i.imgur.com/7vQD0fPs.jpg";
  const description = "Gregorio Y. Zara";
  return <img className="avatar" src={avatar} alt={description} />;
}
```

> 이미지를 둥글게 만드는 "avatar" CSS 클래스 이름을 지정하는 className="avatar"와, avatar라는 JavaScript 변수의 값을 읽어오는 src={avatar}의 차이점을 주목해 보세요.
> 중괄호를 사용하면 마크업에서 바로 JavaScript를 사용할 수 있기 때문입니다!

### 중괄호 사용: JavaScript 세계를 들여다보는 창

> JSX는 JavaScript를 작성하는 특별한 방법입니다.
> 즉, 중괄호 { }를 사용하여 JavaScript를 JSX 내부에서 사용할 수 있습니다.
> 아래 예시는 먼저 과학자의 이름인 name을 선언한 다음, <h1> 안에 중괄호를 사용하여 해당 이름을 삽입합니다.

App.js

```javascript
export default function TodoList() {
  const name = "Gregorio Y. Zara";
  return <h1>{name}'s To Do List</h1>;
}
```

> name 값을 'Gregorio Y. Zara'에서 'Hedy Lamarr'로 변경해 보세요.
> 목록 제목이 어떻게 바뀌는지 보이시나요?
> formatDate()와 같은 함수 호출을 포함하여 모든 JavaScript 표현식은 중괄호 안에서 작동합니다.

App.js

```javascript
const today = new Date();

function formatDate(date) {
  return new Intl.DateTimeFormat("en-US", { weekday: "long" }).format(date);
}

export default function TodoList() {
  return <h1>To Do List for {formatDate(today)}</h1>;
}
```

### 중괄호를 사용하는 위치

> JSX 내부에서 중괄호는 두 가지 방식으로만 사용할 수 있습니다.

1. JSX 태그 안에 직접 텍스트로 사용하는 경우: <h1>{name}'s To Do List</h1>는 유효하지만, <{tag}>Gregorio Y. Zara's To Do List</{tag}>는 동작하지 않습니다.
2. '=' 기호 바로 뒤에 오는 속성으로 사용하는 경우: src={avatar}는 avatar 변수를 읽지만, src="{avatar}"는 문자열 "{avatar}"를 전달합니다.

### "이중 중괄호" 사용: JSX에서 CSS 및 기타 객체

> 문자열, 숫자 및 기타 JavaScript 표현식 외에도 JSX에서 객체를 전달할 수 있습니다.
> 객체는 { name: "Hedy Lamarr", inventions: 5 }와 같이 중괄호로 표시됩니다.
> 따라서 JSX에서 JS 객체를 전달하려면 객체를 또 다른 중괄호로 묶어야 합니다.
> person={{ name: "Hedy Lamarr", inventions: 5 }}.

> JSX의 인라인 CSS 스타일에서 이러한 예를 볼 수 있습니다.
> React에서는 인라인 스타일을 사용할 필요가 없습니다(대부분의 경우 CSS 클래스가 효과적입니다).
> 그러나 인라인 스타일이 필요한 경우 style 속성에 객체를 전달합니다.

App.js

```javascript
export default function TodoList() {
  return (
    <ul
      style={{
        backgroundColor: "black",
        color: "pink",
      }}
    >
      <li>Improve the videophone</li>
      <li>Prepare aeronautics lectures</li>
      <li>Work on the alcohol-fuelled engine</li>
    </ul>
  );
}
```

> backgroundColor와 color 값을 변경해 보세요.
> 아래와 같이 작성하면 중괄호 안의 JavaScript 객체를 실제로 볼 수 있습니다.

<ul style={
  {
    backgroundColor: 'black',
    color: 'pink'
  }
}>

> 다음에 JSX에서 {{와 }}를 보게 되면 그것은 JSX 중괄호 안의 객체에 불과하다는 걸 알아두세요!

> > 주의 점!!

- 인라인 스타일 속성은 camelCase로 작성됩니다.
- 예를 들어, HTML <ul style="background-color: black">은 컴포넌트에서 <ul style={{ backgroundColor: 'black' }}>으로 작성됩니다.

### JavaScript 객체와 중괄호를 활용한 더 알아보기

> 여러 표현식을 하나의 객체로 이동하고, JSX 파일에서 중괄호 안에 있는 표현식을 참조할 수 있습니다.

App.js

```javascript
const person = {
  name: "Gregorio Y. Zara",
  theme: {
    backgroundColor: "black",
    color: "pink",
  },
};

export default function TodoList() {
  return (
    <div style={person.theme}>
      <h1>{person.name}'s Todos</h1>
      <img
        className="avatar"
        src="https://i.imgur.com/7vQD0fPs.jpg"
        alt="Gregorio Y. Zara"
      />
      <ul>
        <li>Improve the videophone</li>
        <li>Prepare aeronautics lectures</li>
        <li>Work on the alcohol-fuelled engine</li>
      </ul>
    </div>
  );
}
```

> 이 예시에서 person JavaScript 객체는 name 문자열과 theme 객체를 포함합니다.

```javascript
const person = {
  name: "Gregorio Y. Zara",
  theme: {
    backgroundColor: "black",
    color: "pink",
  },
};
```

> 컴포넌트는 아래와 같이 person의 값을 사용할 수 있습니다.

<div style={person.theme}>
  <h1>{person.name}'s Todos</h1>

> JSX는 JavaScript를 사용하여 데이터와 로직을 구성할 수 있기 때문에 매우 단순한 템플릿 언어 입니다.

#### 요약

> 따옴표 안의 JSX 속성은 문자열로 전달됩니다.
> 중괄호를 사용하면 JavaScript 로직과 변수를 마크업에 가져올 수 있습니다.
> 중괄호는 JSX 태그 내용 내부 또는 속성의 = 바로 뒤에 사용됩니다.
> {{와 }}는 특수 구문이 아닙니다. JSX 중괄호 안에 있는 JavaScript 객체입니다.

### 컴포넌트에 Props 전달하기 [Passing Props to a Component](https://react.dev/learn/passing-props-to-a-component)

> React 컴포넌트는 props를 사용하여 서로 통신합니다.
> 모든 부모 컴포넌트는 props를 통해 자식 컴포넌트에 정보를 전달할 수 있습니다.
> props는 HTML 속성을 연상시키지만, 객체, 배열, 함수를 포함한 모든 JavaScript 값을 전달할 수 있습니다.

#### 익숙한 props

- props은 JSX 태그에 전달하는 정보입니다.
- 예를 들어, className, src, alt, width, height 등이 <img> 태그에 전달할 수 있습니다.

App.js

```javascript
function Avatar() {
  return (
    <img
      className="avatar"
      src="https://i.imgur.com/1bX5QH6.jpg"
      alt="Lin Lanying"
      width={100}
      height={100}
    />
  );
}

export default function Profile() {
  return <Avatar />;
}
```

> <img> 태그에 전달할 수 있는 속성은 미리 정의되어 있습니다(ReactDOM은 HTML 표준을 따릅니다).
> 하지만 <Avatar>와 같은 자체 컴포넌트는 원하는 props를 전달하여 사용할 수 있습니다.

#### 컴포넌트에 props 전달하기

> 아래 코드에서 Profile 컴포넌트는 자식 컴포넌트인 Avatar에 props를 전달하지 않습니다.

```javascript
export default function Profile() {
  return <Avatar />;
}
```

> 두 단계에 걸쳐 Avatar에 props를 전달 할 수 있습니다.

> 1단계: 자식 컴포넌트에 props 전달

- 먼저, Avatar에 몇 가지 props를 전달합니다.
- 예를 들어, person(객체)과 size(숫자)라는 두 가지 속성을 전달해 보겠습니다.

```javascript
export default function Profile() {
  return (
    <Avatar person={{ name: "Lin Lanying", imageId: "1bX5QH6" }} size={100} />
  );
}
```

> > 참고!!

- person= 뒤에 있는 이중 중괄호 때문에 혼란스럽다면, 이는 JSX 중괄호 안의 객체라고 기억하면 됩니다.

> 2단계: 자식 컴포넌트 내부에서 props 읽기

- function Avatar 함수 바로 뒤에 있는 ({와 }) 안에 이름, person, size를 쉼표로 구분하여 나열하면 props를 읽을 수 있습니다.
- 이렇게 하면 Avatar 코드 내에서 변수처럼 props를 사용할 수 있습니다.

```javascript
function Avatar({ person, size }) {
  // person과 size는 이곳에서 사용가능합니다.
}
```

- Avatar에 person과 size props를 사용하여 렌더링하는 로직을 추가하면 완료됩니다.
- 이제 Avatar가 다른 props를 이용해 다양한 방식으로 렌더링하도록 설정할 수 있습니다.

App.js

```javascript
import { getImageUrl } from "./utils.js";

function Avatar({ person, size }) {
  return (
    <img
      className="avatar"
      src={getImageUrl(person)}
      alt={person.name}
      width={size}
      height={size}
    />
  );
}

export default function Profile() {
  return (
    <div>
      <Avatar
        size={100}
        person={{
          name: "Katsuko Saruhashi",
          imageId: "YfeOqp2",
        }}
      />
      <Avatar
        size={80}
        person={{
          name: "Aklilu Lemma",
          imageId: "OKS67lh",
        }}
      />
      <Avatar
        size={50}
        person={{
          name: "Lin Lanying",
          imageId: "1bX5QH6",
        }}
      />
    </div>
  );
}
```

utils.js

```javascript
export function getImageUrl(person, size = "s") {
  return "https://i.imgur.com/" + person.imageId + size + ".jpg";
}
```

- Props를 사용하면 부모 컴포넌트와 자식 컴포넌트를 독립적으로 생각할 수 있습니다.
- 예를 들어, Profile 컴포넌트의 person 또는 size props를 Avatar 컴포넌트가 어떻게 사용하는지 생각하지 않고도 변경할 수 있습니다.
- 마찬가지로, Profile 컴포넌트를 확인하지 않고도 Avatar 컴포넌트가 props를 사용하는 방식을 변경할 수 있습니다.

- props는 조정할 수 있는 "손잡이"와 같다고 생각할 수 있습니다.
- props는 함수의 인수와 같은 역할을 합니다.
- 실제로 props는 컴포넌트의 유일한 인수입니다!
- React 컴포넌트 함수는 props 객체라는 단일 인수를 받습니다.

```javascript
function Avatar(props) {
  let person = props.person;
  let size = props.size;
  // ...
}
```

- 보통 props 객체 자체는 필요하지 않으므로 이를 개별 props로 구조 분해합니다.

> > 주의!!

- props를 선언할 때 (와) 안에 있는 {와 } 중괄호 쌍을 놓치지 마세요.

```javascript
function Avatar({ person, size }) {
  // ...
}
```

- 이 구문은 "구조 분해"라고 부르며 함수 매개변수에서 속성을 읽는 것과 동일합니다.

```javascript
function Avatar(props) {
  let person = props.person;
  let size = props.size;
  // ...
}
```

#### prop에 기본값 지정하기

> 값이 지정되지 않았을 때 사용할 기본값을 prop에 지정하려면, 매개변수 바로 뒤에 = 와 함께 기본값을 넣어 구조 분해를 수행할 수 있습니다.

```javascript
function Avatar({ person, size = 100 }) {
  // ...
}
```

- 이제 <Avatar person={...} />가 size prop 없이 렌더링하면 size는 100으로 설정됩니다.
- 기본값은 size prop이 없거나 size={undefined}를 전달한 경우에만 사용됩니다. 하지만 size={null} 또는 size={0}으로 전달하면 기본값이 사용되지 않습니다.

#### JSX spread 문법으로 props 전달하기

> 때로는 props 전달이 매우 반복적일 수 있습니다.

```javascript
function Profile({ person, size, isSepia, thickBorder }) {
  return (
    <div className="card">
      <Avatar
        person={person}
        size={size}
        isSepia={isSepia}
        thickBorder={thickBorder}
      />
    </div>
  );
}
```

- 반복적인 코드에 문제가 있는 것은 아닙니다. 더 읽기 쉬울 수 있으니까요.
- 하지만 때로는 간결함이 중요할 수 있습니다.
- 어떤 컴포넌트는 모든 props를 자식 컴포넌트에 전달합니다.
- 예를 들어, Profile 컴포넌트가 Avatar 컴포넌트에 전달하는 방식과 같습니다.
- 이 컴포넌트들은 props를 직접 사용하지 않기 때문에, 더 간결한 "spread" 문법을 사용하는 것이 합리적입니다.

```javascript
function Profile(props) {
  return (
    <div className="card">
      <Avatar {...props} />
    </div>
  );
}
```

- 이렇게 하면 Profile의 모든 props가 이름을 나열하지 않고 Avatar로 전달됩니다.
- spread 구문은 신중하게 사용하세요.
- 다른 모든 컴포넌트에서 이 구문을 사용한다면 문제가 있는 것입니다.
- 이는 종종 컴포넌트를 분할하고 자식 컴포넌트를 JSX로 전달해야 함을 의미합니다.

#### 자식을 JSX로 전달하기

> 내장된 브라우저 태그를 중첩하는 것이 일반적입니다.

<div>
  <img />
</div>

> 때로는 동일한 방식으로 자체 구성 요소를 중첩하고 싶을 수도 있습니다.

<Card>
  <Avatar />
</Card>

> JSX 태그 안에 콘텐츠를 중첩하면 부모 컴포넌트는 children이라는 prop으로 해당 콘텐츠를 받습니다.
> 예를 들어, 아래 Card 컴포넌트는 <Avatar />로 설정된 children 속성을 받고 이를 래퍼 div로 렌더링합니다.

App.js

```javascript
import Avatar from "./Avatar.js";

function Card({ children }) {
  return <div className="card">{children}</div>;
}

export default function Profile() {
  return (
    <Card>
      <Avatar
        size={100}
        person={{
          name: "Katsuko Saruhashi",
          imageId: "YfeOqp2",
        }}
      />
    </Card>
  );
}
```

Avatar.js

```javascript
import { getImageUrl } from "./utils.js";

export default function Avatar({ person, size }) {
  return (
    <img
      className="avatar"
      src={getImageUrl(person)}
      alt={person.name}
      width={size}
      height={size}
    />
  );
}
```

utils.js

```javascript
export function getImageUrl(person, size = "s") {
  return "https://i.imgur.com/" + person.imageId + size + ".jpg";
}
```

- <Card> 안의 <Avatar>를 텍스트로 바꿔서 Card 컴포넌트가 중첩된 콘텐츠를 어떻게 래핑하는지 확인해 보세요.
- 내부에서 무엇이 렌더링되는지 "알" 필요가 없습니다.
- 이러한 유연한 패턴은 여러 곳에서 볼 수 있습니다.

- children prop이 있는 컴포넌트는 부모 컴포넌트가 임의의 JSX를 사용하여 "채울" 수 있는 "구멍"이 있다고 생각할 수 있습니다.
- children prop은 패널, 그리드 등과 같은 시각적 래퍼에 자주 사용됩니다.

#### 시간에 따른 props 변화

> 아래 Clock 컴포넌트는 부모 컴포넌트로부터 color와 time이라는 두 가지 props를 받습니다.
> (부모 컴포넌트의 코드는 아직 자세히 다루지는 않을 state를 사용하기 때문에 생략합니다.)

> 아래 선택 상자의 색상을 변경해 보세요.

Clock.js

```javascript
export default function Clock({ color, time }) {
  return <h1 style={{ color: color }}>{time}</h1>;
}
```

> 이 예제는 컴포넌트가 시간이 지남에 따라 다른 props를 받을 수 있음을 보여줍니다.
> props는 항상 정적인 것은 아닙니다!
> 여기서 time prop은 매초 변경되고, color prop은 다른 색상을 선택할 때 변경됩니다.
> props는 컴포넌트의 초기 데이터뿐만 아니라 모든 시점의 데이터를 반영합니다.

> 하지만 props는 불변성(immutable)입니다.
> 컴퓨터 과학에서 "변경할 수 없음"을 의미하는 용어입니다.
> 컴포넌트가 props를 변경해야 하는 경우(예: 사용자 상호작용이나 새 데이터에 대한 응답), 부모 컴포넌트에 다른 props, 즉 새 객체를 전달해 달라고 "요청"해야 합니다!
> 그러면 이전 props는 사라지고, 결국 JavaScript 엔진은 해당 props가 차지했던 메모리를 회수하게 됩니다.

> "props를 변경"하려고 하지 마세요.
> 사용자 입력에 응답해야 하는 경우(예: 선택한 색상 변경), "set state"가 필요한데,
> 이에 대한 자세한 내용은 "State: A Component's Memory"에서 확인할 수 있습니다.

#### 요약

> props를 전달하려면 HTML 속성과 마찬가지로 JSX에 props를 추가합니다.
> props를 읽으려면 Avatar({person, size}) 함수 구조 분해 구문을 사용합니다.
> size = 100과 같이 기본값을 지정할 수 있으며 누락되었거나 undefined 인 props에 사용됩니다.
> <Avatar {...props} /> JSX 전개 구문을 사용하여 모든 속성을 전달할 수 있지만, 너무 많이 사용하지 마세요!
> <Card><Avatar /></Card>와 같은 중첩된 JSX는 Card 컴포넌트의 children 속성으로 나타납니다.
> props은 특정 시점의 읽기 전용 스냅샷입니다. 모든 렌더링은 새로운 버전의 props를 받습니다.
> props은 변경할 수 없습니다. 상호작용이 필요한 경우 state를 설정해야 합니다.
